{
  "metadata": {
    "id": "snakes-and-ladders",
    "name": "Snakes and Ladders",
    "description": "A classic board game where players race to reach position 100, climbing ladders and sliding down snakes.",
    "version": "1.0.0",
    "minPlayers": 2,
    "maxPlayers": 4
  },
  "initialState": {
    "game": {
      "name": "Snakes and Ladders",
      "phase": "SETUP",
      "turn": "p1",
      "winner": null,
      "lastRoll": 0
    },
    "players": [
      { "id": "p1", "name": "Player 1", "position": 0 },
      { "id": "p2", "name": "Player 2", "position": 0 }
    ],
    "board": {
      "winPosition": 100,
      "moves": {
        "4": 14,
        "9": 31,
        "17": 7,
        "20": 38,
        "28": 84,
        "40": 59,
        "51": 67,
        "54": 34,
        "62": 19,
        "63": 81,
        "64": 60,
        "71": 91,
        "87": 24,
        "93": 73,
        "95": 75,
        "98": 79
      }
    }
  },
  "rules": {
    "objective": "Be the first player to reach position 100.",
    "mechanics": "Players take turns rolling a six-sided die and moving their piece forward by the number of squares shown. If a player lands on a square with the bottom of a ladder, they climb up to the square at the top of the ladder. If they land on a square with the head of a snake, they slide down to the square at the tail of the snake.",
    "turnStructure": "Players will inform you of their dice roll (e.g., 'I rolled a 3'). When they do: 1) Determine whose turn it is (check game.turn), 2) Find that player in the players array, 3) Add the roll value to their position using ADD_STATE, 4) Check if they landed on a snake or ladder (board.moves), 5) If they landed on a special square, use SET_STATE to move them to the destination, 6) Check win condition (position >= board.winPosition), 7) Switch turns if game not won (game.turn switches between p1 and p2), 8) Narrate concisely what happened with appropriate sound effects. Note: If a player explicitly asks you to roll for them, use ROLL_DICE action.",
    "boardLayout": "The board.moves object contains snakes and ladders. If the value is HIGHER than the key it is a LADDER (use soundEffect: ladder_up). If the value is LOWER than the key it is a SNAKE (use soundEffect: snake_down).",
    "examples": [
      "User: Roll the dice | You: [{ \"action\": \"ROLL_DICE\", \"die\": \"1d6\" }]",
      "User: I rolled a 4 | You: [{ \"action\": \"ADD_STATE\", \"path\": \"players.0.position\", \"value\": 4 }, { \"action\": \"SET_STATE\", \"path\": \"players.0.position\", \"value\": 14 }, { \"action\": \"SET_STATE\", \"path\": \"game.turn\", \"value\": \"p2\" }, { \"action\": \"NARRATE\", \"text\": \"You moved to 4 and climbed a ladder to 14! Next player's turn.\", \"soundEffect\": \"ladder_up\" }]",
      "User: Where am I? | You: [{ \"action\": \"NARRATE\", \"text\": \"You're at position 14. Your turn!\" }]"
    ]
  },
  "soundEffects": {
    "ladder_up": "/sounds/ladder_up.wav",
    "snake_down": "/sounds/snake_down.wav"
  }
}
